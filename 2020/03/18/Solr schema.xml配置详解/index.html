<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>Solr schema.xml配置详解 | xiaohua&#39;blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485868788899091929394959697989910010110210">
<meta property="og:type" content="article">
<meta property="og:title" content="Solr schema.xml配置详解">
<meta property="og:url" content="http://yoursite.com/2020/03/18/Solr%20schema.xml%E9%85%8D%E7%BD%AE%E8%AF%A6%E8%A7%A3/index.html">
<meta property="og:site_name" content="xiaohua&#39;blog">
<meta property="og:description" content="12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485868788899091929394959697989910010110210">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2020-03-18T10:06:48.341Z">
<meta property="article:modified_time" content="2020-03-17T00:13:59.840Z">
<meta property="article:author" content="xiaohua">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="xiaohua&#39;blog" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  
<link rel="stylesheet" href="/css/style.css">

<meta name="generator" content="Hexo 4.2.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">xiaohua&#39;blog</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-Solr schema.xml配置详解" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/03/18/Solr%20schema.xml%E9%85%8D%E7%BD%AE%E8%AF%A6%E8%A7%A3/" class="article-date">
  <time datetime="2020-03-18T10:06:48.341Z" itemprop="datePublished">2020-03-18</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Solr schema.xml配置详解
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</span></span><br><span class="line"><span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment"> 版权说明。。.</span></span><br><span class="line"><span class="comment">--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--  </span></span><br><span class="line"><span class="comment"> 这是solr的chema 文件，这个文件应该被重命名为"schema.xml",而且他应该放在solrhome/core/conf文件下面。</span></span><br><span class="line"><span class="comment"> 获取你也能在solr webapp 的classload下面找到他.</span></span><br><span class="line"><span class="comment"> 更多的信息可以查看</span></span><br><span class="line"><span class="comment"> http://wiki.apache.org/solr/SchemaXml</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> 性能说明:可以如下来提高性能。</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">  - 设置 stored="false" 对那些只需要搜索，无需返回的字段.</span></span><br><span class="line"><span class="comment">  - 设置 indexed="false" 对于那些只用于返回无需进行搜索的字段.</span></span><br><span class="line"><span class="comment">  - 删除所有不需要 copyfiled字段的声明</span></span><br><span class="line"><span class="comment">  - 为了最好的索引大小与索引性能，设置所有一般的文本字段index=false,使用copyfile将他们copy到一个字段上，然后使用它进行搜索。</span></span><br><span class="line"><span class="comment">  - 运行jvm服务器模式，并使用较高的日志级别，避免记录每一个请求。</span></span><br><span class="line"><span class="comment">    --&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">schema</span> <span class="attr">name</span>=<span class="string">"example-data-driven-schema"</span> <span class="attr">version</span>=<span class="string">"1.6"</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 该配置名称与版本说明.</span></span><br><span class="line"><span class="comment">    --&gt;</span></span><br><span class="line"> <span class="comment">&lt;!-- 字段的有效属性:</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">name：属性的名称，这里有个特殊的属性“_version_”是必须添加的。</span></span><br><span class="line"><span class="comment">type：字段的数据结构类型，所用到的类型需要在fieldType中设置。</span></span><br><span class="line"><span class="comment">default：默认值。</span></span><br><span class="line"><span class="comment">indexed：是否创建索引</span></span><br><span class="line"><span class="comment">stored：是否存储原始数据（如果不需要存储相应字段值，尽量设为false）</span></span><br><span class="line"><span class="comment">docValues：表示此域是否需要添加一个 docValues 域，这对 facet 查询， group 分组，排序， function 查询有好处，尽管这个属性不是必须的，但他能加快索引数据加载，对 NRT 近实时搜索比较友好，且更节省内存，但它也有一些限制，比如当前docValues 域只支持 strField,UUIDField,Trie*Field 等域，且要求域的域值是单值不能是多值域</span></span><br><span class="line"><span class="comment">solrMissingFirst/solrMissingLast：查询结果排序的过程中，如果发现这个字段的值不存在，则排在前面/后面，忽略排序的条件</span></span><br><span class="line"><span class="comment">multValued：是否有多个值，比如说一个用户的所有好友id。（对可能存在多值的字段尽量设置为true，避免建索引时抛出错误）</span></span><br><span class="line"><span class="comment">omitNorms：此属性若设置为 true ，即表示将忽略域值的长度标准化，忽略在索引过程中对当前域的权重设置，且会节省内存。只有全文本域或者你需要在索引创建过程中设置域的权重时才需要把这个值设为 false, 对于基本数据类型且不分词的域如intFeild,longField,Stre, 否则默认就是 false.</span></span><br><span class="line"><span class="comment">required：添加文档时，该字段必须存在，类似mysql的not null</span></span><br><span class="line"><span class="comment">termVectors: 设置为 true 即表示需要为该 field 存储项向量信息，当你需要MoreLikeThis 功能时，则需要将此属性值设为 true ，这样会带来一些性能提升。</span></span><br><span class="line"><span class="comment">termPositions: 是否存储 Term 的起始位置信息，这会增大索引的体积，但高亮功能需要依赖此项设置，否则无法高亮</span></span><br><span class="line"><span class="comment">termOffsets: 表示是否存储索引的位置偏移量，高亮功能需要此项配置，当你使用SpanQuery 时，此项配置会影响匹配的结果集</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">--&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--字段名称应该包含字母数字或下划线字符，不以一个数字开始。这是目前没有严格执行，但其他字段名称将不会有来自所有组件的第一类支持和背部的兼容性没有保证。领导和的名字下划线（如_version_）保留。--&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">在这data_driven_schema_configs configset，下面三个字段是必须的：</span></span><br><span class="line"><span class="comment">id、_version_，和_text_。所有其他字段都是可以删除修改的，并根据需要手动添加</span></span><br><span class="line"><span class="comment">在xml。</span></span><br><span class="line"><span class="comment">请注意，许多动态字段也被定义-您可以使用它们来指定一个</span></span><br><span class="line"><span class="comment">字段的类型通过字段命名约定-见下文。</span></span><br><span class="line"><span class="comment">警告：本_text_catch所字段将会显著地提高索引的大小。</span></span><br><span class="line"><span class="comment">如果你不需要，考虑删除它和相应的copyfield指令。--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">field</span> <span class="attr">name</span>=<span class="string">"id"</span> <span class="attr">type</span>=<span class="string">"long"</span> <span class="attr">indexed</span>=<span class="string">"true"</span> <span class="attr">stored</span>=<span class="string">"true"</span> <span class="attr">required</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 常规字段-&gt;</span></span><br><span class="line"><span class="comment">    &lt;field name="informer_id" type="long" indexed="true" stored="false"/&gt;</span></span><br><span class="line"><span class="comment">    &lt;field name="phone_number" type="string" indexed="true" stored="false"/&gt;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    &lt;field name="title" type="string" indexed="true" stored="true" /&gt;</span></span><br><span class="line"><span class="comment">    &lt;field name="content" type="string" indexed="true" stored="true" /&gt;</span></span><br><span class="line"><span class="comment">    &lt;field name="latitude" type="string" indexed="true" stored="true" /&gt;</span></span><br><span class="line"><span class="comment">    &lt;field name="longitude" type="string" indexed="true" stored="true" /&gt;</span></span><br><span class="line"><span class="comment">    &lt;field name="attachment" type="string" indexed="true" stored="true" /&gt;</span></span><br><span class="line"><span class="comment">    </span></span><br><span class="line"><span class="comment">    &lt;field name="clue_status" type="int" indexed="true" stored="true" /&gt;</span></span><br><span class="line"><span class="comment">    &lt;field name="del_flag" type="int" indexed="true" stored="true" /&gt;</span></span><br><span class="line"><span class="comment">    &lt;field name="gmt_create" type="date" indexed="true" stored="true" /&gt;</span></span><br><span class="line"><span class="comment">    &lt;field name="create_uid" type="long" indexed="true" stored="true" /&gt;</span></span><br><span class="line"><span class="comment">    &lt;field name="gmt_modified" type="date" indexed="true" stored="true" /&gt;</span></span><br><span class="line"><span class="comment">    &lt;field name="modified_uid" type="long" indexed="true" stored="true" /&gt;</span></span><br><span class="line"><span class="comment">    &lt;!--预留字段 --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--&lt;field name="id" type="string" indexed="true" stored="true"  multiValued="false" /&gt;--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">field</span> <span class="attr">name</span>=<span class="string">"_version_"</span> <span class="attr">type</span>=<span class="string">"long"</span> <span class="attr">indexed</span>=<span class="string">"true"</span> <span class="attr">stored</span>=<span class="string">"false"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">field</span> <span class="attr">name</span>=<span class="string">"_root_"</span> <span class="attr">type</span>=<span class="string">"string"</span> <span class="attr">indexed</span>=<span class="string">"true"</span> <span class="attr">stored</span>=<span class="string">"false"</span> <span class="attr">docValues</span>=<span class="string">"false"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">field</span> <span class="attr">name</span>=<span class="string">"_text_"</span> <span class="attr">type</span>=<span class="string">"text_general"</span> <span class="attr">indexed</span>=<span class="string">"true"</span> <span class="attr">stored</span>=<span class="string">"false"</span> <span class="attr">multiValued</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">&lt;!--复制字段--&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--建议建立一个拷贝字段，将所有的 全文本 字段复制到一个字段中，以便进行统一的检索</span></span><br><span class="line"><span class="comment">        要注意的是，如果你只是复制单个域，那么如果你被复制域本身就是多值域，那么目标域也是多值域，这毋庸置疑，那如果你复制的是多个域，只要其中有一个域是多值域，那么目标域就一定是多值域，这点一定要谨记</span></span><br><span class="line"><span class="comment">    --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">copyField</span> <span class="attr">source</span>=<span class="string">"*"</span> <span class="attr">dest</span>=<span class="string">"_text_"</span>/&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">&lt;!--动态字段--&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 动态字段 属性配置上与常规字段没啥区别，最大的区别是name的属性上可以进行通配，比如说name="*_i"，那么只要是后面带i的字段都是符合的。这样就不怕一些字段无法匹配无法写入  --&gt;</span></span><br><span class="line">       </span><br><span class="line">    <span class="tag">&lt;<span class="name">dynamicField</span> <span class="attr">name</span>=<span class="string">"*_i"</span>  <span class="attr">type</span>=<span class="string">"int"</span>    <span class="attr">indexed</span>=<span class="string">"true"</span>  <span class="attr">stored</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dynamicField</span> <span class="attr">name</span>=<span class="string">"*_is"</span> <span class="attr">type</span>=<span class="string">"ints"</span>    <span class="attr">indexed</span>=<span class="string">"true"</span>  <span class="attr">stored</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dynamicField</span> <span class="attr">name</span>=<span class="string">"*_s"</span>  <span class="attr">type</span>=<span class="string">"string"</span>  <span class="attr">indexed</span>=<span class="string">"true"</span>  <span class="attr">stored</span>=<span class="string">"true"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dynamicField</span> <span class="attr">name</span>=<span class="string">"*_ss"</span> <span class="attr">type</span>=<span class="string">"strings"</span>  <span class="attr">indexed</span>=<span class="string">"true"</span>  <span class="attr">stored</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dynamicField</span> <span class="attr">name</span>=<span class="string">"*_l"</span>  <span class="attr">type</span>=<span class="string">"long"</span>   <span class="attr">indexed</span>=<span class="string">"true"</span>  <span class="attr">stored</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dynamicField</span> <span class="attr">name</span>=<span class="string">"*_ls"</span> <span class="attr">type</span>=<span class="string">"longs"</span>   <span class="attr">indexed</span>=<span class="string">"true"</span>  <span class="attr">stored</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dynamicField</span> <span class="attr">name</span>=<span class="string">"*_t"</span>   <span class="attr">type</span>=<span class="string">"text_general"</span> <span class="attr">indexed</span>=<span class="string">"true"</span> <span class="attr">stored</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dynamicField</span> <span class="attr">name</span>=<span class="string">"*_txt"</span> <span class="attr">type</span>=<span class="string">"text_general"</span> <span class="attr">indexed</span>=<span class="string">"true"</span> <span class="attr">stored</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dynamicField</span> <span class="attr">name</span>=<span class="string">"*_b"</span>  <span class="attr">type</span>=<span class="string">"boolean"</span> <span class="attr">indexed</span>=<span class="string">"true"</span> <span class="attr">stored</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dynamicField</span> <span class="attr">name</span>=<span class="string">"*_bs"</span> <span class="attr">type</span>=<span class="string">"booleans"</span> <span class="attr">indexed</span>=<span class="string">"true"</span> <span class="attr">stored</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dynamicField</span> <span class="attr">name</span>=<span class="string">"*_f"</span>  <span class="attr">type</span>=<span class="string">"float"</span>  <span class="attr">indexed</span>=<span class="string">"true"</span>  <span class="attr">stored</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dynamicField</span> <span class="attr">name</span>=<span class="string">"*_fs"</span> <span class="attr">type</span>=<span class="string">"floats"</span>  <span class="attr">indexed</span>=<span class="string">"true"</span>  <span class="attr">stored</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dynamicField</span> <span class="attr">name</span>=<span class="string">"*_d"</span>  <span class="attr">type</span>=<span class="string">"double"</span> <span class="attr">indexed</span>=<span class="string">"true"</span>  <span class="attr">stored</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dynamicField</span> <span class="attr">name</span>=<span class="string">"*_ds"</span> <span class="attr">type</span>=<span class="string">"doubles"</span> <span class="attr">indexed</span>=<span class="string">"true"</span>  <span class="attr">stored</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">&lt;!-- 字段类型 --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">StrField: 这是一个不分词的字符串域，它支持 docValues 域，但当为其添加了docValues 域，则要求只能是单值域且该域必须存在或者该域有默认值</span></span><br><span class="line"><span class="comment">BoolField ： boolean 域，对应 true/false</span></span><br><span class="line"><span class="comment">TrieIntField, TrieFloatField, TrieLongField, TrieDoubleField 这几个都是默认的数字域， precisionStep 属性一般用于数字范围查询， precisionStep 值越小，则索引时该域的域值分出的 token 个数越多，会增大硬盘上索引的体积，但它会加快数字范围检索的响应速度， positionIncrementGap 属性表示如果当前域是多值域时，多个值之间的间距，单值域，设置此项无意义。</span></span><br><span class="line"><span class="comment">TrieDateField ：显然这是一个日期域类型，不过遗憾的是它支持 1995-12-31T23:59:59Z 这种格式的日期，比较坑爹，为此我自定义了一个 TrieCNDateField 域类型，用于支持国人比较喜欢的 yyyy-MM-dd HH:mm:ss 格式的日期。源码请参见我的上一篇博客。</span></span><br><span class="line"><span class="comment">BinaryField ：经过 base64 编码的字符串域类型，即你需要把 binary 数据进行base64 编码才能被 solr 进行索引。</span></span><br><span class="line"><span class="comment">RandomSortField ：随机排序域类型，当你需要实现伪随机排序时，请使用此域类型。</span></span><br><span class="line"><span class="comment">TextField ：是用的最多的一种域类型，它需要进行分词，所以它一般需要配置分词器。至于具体它如何配置 IK 分词器，这里就不展开了--&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">fieldType</span> <span class="attr">name</span>=<span class="string">"string"</span> <span class="attr">class</span>=<span class="string">"solr.StrField"</span> <span class="attr">sortMissingLast</span>=<span class="string">"true"</span> <span class="attr">docValues</span>=<span class="string">"true"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">fieldType</span> <span class="attr">name</span>=<span class="string">"strings"</span> <span class="attr">class</span>=<span class="string">"solr.StrField"</span> <span class="attr">sortMissingLast</span>=<span class="string">"true"</span> <span class="attr">multiValued</span>=<span class="string">"true"</span> <span class="attr">docValues</span>=<span class="string">"true"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">fieldType</span> <span class="attr">name</span>=<span class="string">"boolean"</span> <span class="attr">class</span>=<span class="string">"solr.BoolField"</span> <span class="attr">sortMissingLast</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">fieldType</span> <span class="attr">name</span>=<span class="string">"booleans"</span> <span class="attr">class</span>=<span class="string">"solr.BoolField"</span> <span class="attr">sortMissingLast</span>=<span class="string">"true"</span> <span class="attr">multiValued</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- sortMissingLast and sortMissingFirst attributes are optional attributes are</span></span><br><span class="line"><span class="comment">         currently supported on types that are sorted internally as strings</span></span><br><span class="line"><span class="comment">         and on numeric types.</span></span><br><span class="line"><span class="comment">         This includes "string","boolean", and, as of 3.5 (and 4.x),</span></span><br><span class="line"><span class="comment">         int, float, long, date, double, including the "Trie" variants.</span></span><br><span class="line"><span class="comment">       - If sortMissingLast="true", then a sort on this field will cause documents</span></span><br><span class="line"><span class="comment">         without the field to come after documents with the field,</span></span><br><span class="line"><span class="comment">         regardless of the requested sort order (asc or desc).</span></span><br><span class="line"><span class="comment">       - If sortMissingFirst="true", then a sort on this field will cause documents</span></span><br><span class="line"><span class="comment">         without the field to come before documents with the field,</span></span><br><span class="line"><span class="comment">         regardless of the requested sort order.</span></span><br><span class="line"><span class="comment">       - If sortMissingLast="false" and sortMissingFirst="false" (the default),</span></span><br><span class="line"><span class="comment">         then default lucene sorting will be used which places docs without the</span></span><br><span class="line"><span class="comment">         field first in an ascending sort and last in a descending sort.</span></span><br><span class="line"><span class="comment">    --&gt;</span>    </span><br><span class="line">    </span><br><span class="line">    <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">      默认数值类型，用于范围类的查找, consider the tint/tfloat/tlong/tdouble types.</span></span><br><span class="line"><span class="comment">      这些字段支持文档的值，但应该是单值字段.</span></span><br><span class="line"><span class="comment">    --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">fieldType</span> <span class="attr">name</span>=<span class="string">"int"</span> <span class="attr">class</span>=<span class="string">"solr.TrieIntField"</span> <span class="attr">docValues</span>=<span class="string">"true"</span> <span class="attr">precisionStep</span>=<span class="string">"0"</span> <span class="attr">positionIncrementGap</span>=<span class="string">"0"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">fieldType</span> <span class="attr">name</span>=<span class="string">"float"</span> <span class="attr">class</span>=<span class="string">"solr.TrieFloatField"</span> <span class="attr">docValues</span>=<span class="string">"true"</span> <span class="attr">precisionStep</span>=<span class="string">"0"</span> <span class="attr">positionIncrementGap</span>=<span class="string">"0"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">fieldType</span> <span class="attr">name</span>=<span class="string">"long"</span> <span class="attr">class</span>=<span class="string">"solr.TrieLongField"</span> <span class="attr">docValues</span>=<span class="string">"true"</span> <span class="attr">precisionStep</span>=<span class="string">"0"</span> <span class="attr">positionIncrementGap</span>=<span class="string">"0"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">fieldType</span> <span class="attr">name</span>=<span class="string">"double"</span> <span class="attr">class</span>=<span class="string">"solr.TrieDoubleField"</span> <span class="attr">docValues</span>=<span class="string">"true"</span> <span class="attr">precisionStep</span>=<span class="string">"0"</span> <span class="attr">positionIncrementGap</span>=<span class="string">"0"</span>/&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="tag">&lt;<span class="name">fieldType</span> <span class="attr">name</span>=<span class="string">"ints"</span> <span class="attr">class</span>=<span class="string">"solr.TrieIntField"</span> <span class="attr">docValues</span>=<span class="string">"true"</span> <span class="attr">precisionStep</span>=<span class="string">"0"</span> <span class="attr">positionIncrementGap</span>=<span class="string">"0"</span> <span class="attr">multiValued</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">fieldType</span> <span class="attr">name</span>=<span class="string">"floats"</span> <span class="attr">class</span>=<span class="string">"solr.TrieFloatField"</span> <span class="attr">docValues</span>=<span class="string">"true"</span> <span class="attr">precisionStep</span>=<span class="string">"0"</span> <span class="attr">positionIncrementGap</span>=<span class="string">"0"</span> <span class="attr">multiValued</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">fieldType</span> <span class="attr">name</span>=<span class="string">"longs"</span> <span class="attr">class</span>=<span class="string">"solr.TrieLongField"</span> <span class="attr">docValues</span>=<span class="string">"true"</span> <span class="attr">precisionStep</span>=<span class="string">"0"</span> <span class="attr">positionIncrementGap</span>=<span class="string">"0"</span> <span class="attr">multiValued</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">fieldType</span> <span class="attr">name</span>=<span class="string">"doubles"</span> <span class="attr">class</span>=<span class="string">"solr.TrieDoubleField"</span> <span class="attr">docValues</span>=<span class="string">"true"</span> <span class="attr">precisionStep</span>=<span class="string">"0"</span> <span class="attr">positionIncrementGap</span>=<span class="string">"0"</span> <span class="attr">multiValued</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">     各个精度值</span></span><br><span class="line"><span class="comment">    --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">fieldType</span> <span class="attr">name</span>=<span class="string">"tint"</span> <span class="attr">class</span>=<span class="string">"solr.TrieIntField"</span> <span class="attr">docValues</span>=<span class="string">"true"</span> <span class="attr">precisionStep</span>=<span class="string">"8"</span> <span class="attr">positionIncrementGap</span>=<span class="string">"0"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">fieldType</span> <span class="attr">name</span>=<span class="string">"tfloat"</span> <span class="attr">class</span>=<span class="string">"solr.TrieFloatField"</span> <span class="attr">docValues</span>=<span class="string">"true"</span> <span class="attr">precisionStep</span>=<span class="string">"8"</span> <span class="attr">positionIncrementGap</span>=<span class="string">"0"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">fieldType</span> <span class="attr">name</span>=<span class="string">"tlong"</span> <span class="attr">class</span>=<span class="string">"solr.TrieLongField"</span> <span class="attr">docValues</span>=<span class="string">"true"</span> <span class="attr">precisionStep</span>=<span class="string">"8"</span> <span class="attr">positionIncrementGap</span>=<span class="string">"0"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">fieldType</span> <span class="attr">name</span>=<span class="string">"tdouble"</span> <span class="attr">class</span>=<span class="string">"solr.TrieDoubleField"</span> <span class="attr">docValues</span>=<span class="string">"true"</span> <span class="attr">precisionStep</span>=<span class="string">"8"</span> <span class="attr">positionIncrementGap</span>=<span class="string">"0"</span>/&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="tag">&lt;<span class="name">fieldType</span> <span class="attr">name</span>=<span class="string">"tints"</span> <span class="attr">class</span>=<span class="string">"solr.TrieIntField"</span> <span class="attr">docValues</span>=<span class="string">"true"</span> <span class="attr">precisionStep</span>=<span class="string">"8"</span> <span class="attr">positionIncrementGap</span>=<span class="string">"0"</span> <span class="attr">multiValued</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">fieldType</span> <span class="attr">name</span>=<span class="string">"tfloats"</span> <span class="attr">class</span>=<span class="string">"solr.TrieFloatField"</span> <span class="attr">docValues</span>=<span class="string">"true"</span> <span class="attr">precisionStep</span>=<span class="string">"8"</span> <span class="attr">positionIncrementGap</span>=<span class="string">"0"</span> <span class="attr">multiValued</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">fieldType</span> <span class="attr">name</span>=<span class="string">"tlongs"</span> <span class="attr">class</span>=<span class="string">"solr.TrieLongField"</span> <span class="attr">docValues</span>=<span class="string">"true"</span> <span class="attr">precisionStep</span>=<span class="string">"8"</span> <span class="attr">positionIncrementGap</span>=<span class="string">"0"</span> <span class="attr">multiValued</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">fieldType</span> <span class="attr">name</span>=<span class="string">"tdoubles"</span> <span class="attr">class</span>=<span class="string">"solr.TrieDoubleField"</span> <span class="attr">docValues</span>=<span class="string">"true"</span> <span class="attr">precisionStep</span>=<span class="string">"8"</span> <span class="attr">positionIncrementGap</span>=<span class="string">"0"</span> <span class="attr">multiValued</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">&lt;!-- 日期格式</span></span><br><span class="line"><span class="comment">         <span class="doctag">Note:</span> --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">fieldType</span> <span class="attr">name</span>=<span class="string">"date"</span> <span class="attr">class</span>=<span class="string">"solr.TrieDateField"</span> <span class="attr">docValues</span>=<span class="string">"true"</span> <span class="attr">precisionStep</span>=<span class="string">"0"</span> <span class="attr">positionIncrementGap</span>=<span class="string">"0"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">fieldType</span> <span class="attr">name</span>=<span class="string">"dates"</span> <span class="attr">class</span>=<span class="string">"solr.TrieDateField"</span> <span class="attr">docValues</span>=<span class="string">"true"</span> <span class="attr">precisionStep</span>=<span class="string">"0"</span> <span class="attr">positionIncrementGap</span>=<span class="string">"0"</span> <span class="attr">multiValued</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">&lt;!-- 一种基于树结构的日期字段，日期范围查询与数据分类--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">fieldType</span> <span class="attr">name</span>=<span class="string">"tdate"</span> <span class="attr">class</span>=<span class="string">"solr.TrieDateField"</span> <span class="attr">docValues</span>=<span class="string">"true"</span> <span class="attr">precisionStep</span>=<span class="string">"6"</span> <span class="attr">positionIncrementGap</span>=<span class="string">"0"</span>/&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="tag">&lt;<span class="name">fieldType</span> <span class="attr">name</span>=<span class="string">"tdates"</span> <span class="attr">class</span>=<span class="string">"solr.TrieDateField"</span> <span class="attr">docValues</span>=<span class="string">"true"</span> <span class="attr">precisionStep</span>=<span class="string">"6"</span> <span class="attr">positionIncrementGap</span>=<span class="string">"0"</span> <span class="attr">multiValued</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    --&gt;</span><br><span class="line">    <span class="tag">&lt;<span class="name">fieldType</span> <span class="attr">name</span>=<span class="string">"binary"</span> <span class="attr">class</span>=<span class="string">"solr.BinaryField"</span>/&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">&lt;!-- The "RandomSortField" is not used to store or search any</span></span><br><span class="line"><span class="comment">         data.  You can declare fields of this type it in your schema</span></span><br><span class="line"><span class="comment">         to generate pseudo-random orderings of your docs for sorting </span></span><br><span class="line"><span class="comment">         or function purposes.  The ordering is generated based on the field</span></span><br><span class="line"><span class="comment">         name and the version of the index. As long as the index version</span></span><br><span class="line"><span class="comment">         remains unchanged, and the same field name is reused,</span></span><br><span class="line"><span class="comment">         the ordering of the docs will be consistent.  </span></span><br><span class="line"><span class="comment">         If you want different psuedo-random orderings of documents,</span></span><br><span class="line"><span class="comment">         for the same version of the index, use a dynamicField and</span></span><br><span class="line"><span class="comment">         change the field name in the request.</span></span><br><span class="line"><span class="comment">     --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">fieldType</span> <span class="attr">name</span>=<span class="string">"random"</span> <span class="attr">class</span>=<span class="string">"solr.RandomSortField"</span> <span class="attr">indexed</span>=<span class="string">"true"</span> /&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">&lt;!-- solr.TextField allows the specification of custom text analyzers</span></span><br><span class="line"><span class="comment">         specified as a tokenizer and a list of token filters. Different</span></span><br><span class="line"><span class="comment">         analyzers may be specified for indexing and querying.</span></span><br><span class="line"><span class="comment">    </span></span><br><span class="line"><span class="comment">         The optional positionIncrementGap puts space between multiple fields of</span></span><br><span class="line"><span class="comment">         this type on the same document, with the purpose of preventing false phrase</span></span><br><span class="line"><span class="comment">         matching across fields.</span></span><br><span class="line"><span class="comment">    </span></span><br><span class="line"><span class="comment">         For more info on customizing your analyzer chain, please see</span></span><br><span class="line"><span class="comment">         http://wiki.apache.org/solr/AnalyzersTokenizersTokenFilters</span></span><br><span class="line"><span class="comment">     --&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">&lt;!-- One can also specify an existing Analyzer class that has a</span></span><br><span class="line"><span class="comment">         default constructor via the class attribute on the analyzer element.</span></span><br><span class="line"><span class="comment">         Example:</span></span><br><span class="line"><span class="comment">    &lt;fieldType name="text_greek" class="solr.TextField"&gt;</span></span><br><span class="line"><span class="comment">      &lt;analyzer class="org.apache.lucene.analysis.el.GreekAnalyzer"/&gt;</span></span><br><span class="line"><span class="comment">    &lt;/fieldType&gt;</span></span><br><span class="line"><span class="comment">    --&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">&lt;!-- A text field that only splits on whitespace for exact matching of words --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dynamicField</span> <span class="attr">name</span>=<span class="string">"*_ws"</span> <span class="attr">type</span>=<span class="string">"text_ws"</span>  <span class="attr">indexed</span>=<span class="string">"true"</span>  <span class="attr">stored</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">fieldType</span> <span class="attr">name</span>=<span class="string">"text_ws"</span> <span class="attr">class</span>=<span class="string">"solr.TextField"</span> <span class="attr">positionIncrementGap</span>=<span class="string">"100"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">analyzer</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">tokenizer</span> <span class="attr">class</span>=<span class="string">"solr.WhitespaceTokenizerFactory"</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">analyzer</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">fieldType</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">&lt;!-- A general text field that has reasonable, generic</span></span><br><span class="line"><span class="comment">         cross-language defaults: it tokenizes with StandardTokenizer,</span></span><br><span class="line"><span class="comment">           removes stop words from case-insensitive "stopwords.txt"</span></span><br><span class="line"><span class="comment">           (empty by default), and down cases.  At query time only, it</span></span><br><span class="line"><span class="comment">           also applies synonyms.</span></span><br><span class="line"><span class="comment">      --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">fieldType</span> <span class="attr">name</span>=<span class="string">"text_general"</span> <span class="attr">class</span>=<span class="string">"solr.TextField"</span> <span class="attr">positionIncrementGap</span>=<span class="string">"100"</span> <span class="attr">multiValued</span>=<span class="string">"true"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">analyzer</span> <span class="attr">type</span>=<span class="string">"index"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">tokenizer</span> <span class="attr">class</span>=<span class="string">"solr.StandardTokenizerFactory"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">filter</span> <span class="attr">class</span>=<span class="string">"solr.StopFilterFactory"</span> <span class="attr">ignoreCase</span>=<span class="string">"true"</span> <span class="attr">words</span>=<span class="string">"stopwords.txt"</span> /&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- in this example, we will only use synonyms at query time</span></span><br><span class="line"><span class="comment">        &lt;filter class="solr.SynonymFilterFactory" synonyms="index_synonyms.txt" ignoreCase="true" expand="false"/&gt;</span></span><br><span class="line"><span class="comment">        --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">filter</span> <span class="attr">class</span>=<span class="string">"solr.LowerCaseFilterFactory"</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">analyzer</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">analyzer</span> <span class="attr">type</span>=<span class="string">"query"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">tokenizer</span> <span class="attr">class</span>=<span class="string">"solr.StandardTokenizerFactory"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">filter</span> <span class="attr">class</span>=<span class="string">"solr.StopFilterFactory"</span> <span class="attr">ignoreCase</span>=<span class="string">"true"</span> <span class="attr">words</span>=<span class="string">"stopwords.txt"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">filter</span> <span class="attr">class</span>=<span class="string">"solr.SynonymFilterFactory"</span> <span class="attr">synonyms</span>=<span class="string">"synonyms.txt"</span> <span class="attr">ignoreCase</span>=<span class="string">"true"</span> <span class="attr">expand</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">filter</span> <span class="attr">class</span>=<span class="string">"solr.LowerCaseFilterFactory"</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">analyzer</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">fieldType</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">&lt;!-- A text field with defaults appropriate for English: it</span></span><br><span class="line"><span class="comment">         tokenizes with StandardTokenizer, removes English stop words</span></span><br><span class="line"><span class="comment">         (lang/stopwords_en.txt), down cases, protects words from protwords.txt, and</span></span><br><span class="line"><span class="comment">         finally applies Porter's stemming.  The query time analyzer</span></span><br><span class="line"><span class="comment">         also applies synonyms from synonyms.txt. --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dynamicField</span> <span class="attr">name</span>=<span class="string">"*_txt_en"</span> <span class="attr">type</span>=<span class="string">"text_en"</span>  <span class="attr">indexed</span>=<span class="string">"true"</span>  <span class="attr">stored</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">fieldType</span> <span class="attr">name</span>=<span class="string">"text_en"</span> <span class="attr">class</span>=<span class="string">"solr.TextField"</span> <span class="attr">positionIncrementGap</span>=<span class="string">"100"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">analyzer</span> <span class="attr">type</span>=<span class="string">"index"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">tokenizer</span> <span class="attr">class</span>=<span class="string">"solr.StandardTokenizerFactory"</span>/&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- in this example, we will only use synonyms at query time</span></span><br><span class="line"><span class="comment">        &lt;filter class="solr.SynonymFilterFactory" synonyms="index_synonyms.txt" ignoreCase="true" expand="false"/&gt;</span></span><br><span class="line"><span class="comment">        --&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- Case insensitive stop word removal.</span></span><br><span class="line"><span class="comment">        --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">filter</span> <span class="attr">class</span>=<span class="string">"solr.StopFilterFactory"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">ignoreCase</span>=<span class="string">"true"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">words</span>=<span class="string">"lang/stopwords_en.txt"</span></span></span><br><span class="line"><span class="tag">            /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">filter</span> <span class="attr">class</span>=<span class="string">"solr.LowerCaseFilterFactory"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">filter</span> <span class="attr">class</span>=<span class="string">"solr.EnglishPossessiveFilterFactory"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">filter</span> <span class="attr">class</span>=<span class="string">"solr.KeywordMarkerFilterFactory"</span> <span class="attr">protected</span>=<span class="string">"protwords.txt"</span>/&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- Optionally you may want to use this less aggressive stemmer instead of PorterStemFilterFactory:</span></span><br><span class="line"><span class="comment">        &lt;filter class="solr.EnglishMinimalStemFilterFactory"/&gt;</span></span><br><span class="line"><span class="comment">          --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">filter</span> <span class="attr">class</span>=<span class="string">"solr.PorterStemFilterFactory"</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">analyzer</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">analyzer</span> <span class="attr">type</span>=<span class="string">"query"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">tokenizer</span> <span class="attr">class</span>=<span class="string">"solr.StandardTokenizerFactory"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">filter</span> <span class="attr">class</span>=<span class="string">"solr.SynonymFilterFactory"</span> <span class="attr">synonyms</span>=<span class="string">"synonyms.txt"</span> <span class="attr">ignoreCase</span>=<span class="string">"true"</span> <span class="attr">expand</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">filter</span> <span class="attr">class</span>=<span class="string">"solr.StopFilterFactory"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">ignoreCase</span>=<span class="string">"true"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">words</span>=<span class="string">"lang/stopwords_en.txt"</span></span></span><br><span class="line"><span class="tag">        /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">filter</span> <span class="attr">class</span>=<span class="string">"solr.LowerCaseFilterFactory"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">filter</span> <span class="attr">class</span>=<span class="string">"solr.EnglishPossessiveFilterFactory"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">filter</span> <span class="attr">class</span>=<span class="string">"solr.KeywordMarkerFilterFactory"</span> <span class="attr">protected</span>=<span class="string">"protwords.txt"</span>/&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- Optionally you may want to use this less aggressive stemmer instead of PorterStemFilterFactory:</span></span><br><span class="line"><span class="comment">        &lt;filter class="solr.EnglishMinimalStemFilterFactory"/&gt;</span></span><br><span class="line"><span class="comment">          --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">filter</span> <span class="attr">class</span>=<span class="string">"solr.PorterStemFilterFactory"</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">analyzer</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">fieldType</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">&lt;!-- A text field with defaults appropriate for English, plus</span></span><br><span class="line"><span class="comment">         aggressive word-splitting and autophrase features enabled.</span></span><br><span class="line"><span class="comment">         This field is just like text_en, except it adds</span></span><br><span class="line"><span class="comment">         WordDelimiterFilter to enable splitting and matching of</span></span><br><span class="line"><span class="comment">         words on case-change, alpha numeric boundaries, and</span></span><br><span class="line"><span class="comment">         non-alphanumeric chars.  This means certain compound word</span></span><br><span class="line"><span class="comment">         cases will work, for example query "wi fi" will match</span></span><br><span class="line"><span class="comment">         document "WiFi" or "wi-fi".</span></span><br><span class="line"><span class="comment">    --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dynamicField</span> <span class="attr">name</span>=<span class="string">"*_txt_en_split"</span> <span class="attr">type</span>=<span class="string">"text_en_splitting"</span>  <span class="attr">indexed</span>=<span class="string">"true"</span>  <span class="attr">stored</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">fieldType</span> <span class="attr">name</span>=<span class="string">"text_en_splitting"</span> <span class="attr">class</span>=<span class="string">"solr.TextField"</span> <span class="attr">positionIncrementGap</span>=<span class="string">"100"</span> <span class="attr">autoGeneratePhraseQueries</span>=<span class="string">"true"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">analyzer</span> <span class="attr">type</span>=<span class="string">"index"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">tokenizer</span> <span class="attr">class</span>=<span class="string">"solr.WhitespaceTokenizerFactory"</span>/&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- in this example, we will only use synonyms at query time</span></span><br><span class="line"><span class="comment">        &lt;filter class="solr.SynonymFilterFactory" synonyms="index_synonyms.txt" ignoreCase="true" expand="false"/&gt;</span></span><br><span class="line"><span class="comment">        --&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- Case insensitive stop word removal.</span></span><br><span class="line"><span class="comment">        --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">filter</span> <span class="attr">class</span>=<span class="string">"solr.StopFilterFactory"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">ignoreCase</span>=<span class="string">"true"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">words</span>=<span class="string">"lang/stopwords_en.txt"</span></span></span><br><span class="line"><span class="tag">        /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">filter</span> <span class="attr">class</span>=<span class="string">"solr.WordDelimiterFilterFactory"</span> <span class="attr">generateWordParts</span>=<span class="string">"1"</span> <span class="attr">generateNumberParts</span>=<span class="string">"1"</span> <span class="attr">catenateWords</span>=<span class="string">"1"</span> <span class="attr">catenateNumbers</span>=<span class="string">"1"</span> <span class="attr">catenateAll</span>=<span class="string">"0"</span> <span class="attr">splitOnCaseChange</span>=<span class="string">"1"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">filter</span> <span class="attr">class</span>=<span class="string">"solr.LowerCaseFilterFactory"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">filter</span> <span class="attr">class</span>=<span class="string">"solr.KeywordMarkerFilterFactory"</span> <span class="attr">protected</span>=<span class="string">"protwords.txt"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">filter</span> <span class="attr">class</span>=<span class="string">"solr.PorterStemFilterFactory"</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">analyzer</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">analyzer</span> <span class="attr">type</span>=<span class="string">"query"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">tokenizer</span> <span class="attr">class</span>=<span class="string">"solr.WhitespaceTokenizerFactory"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">filter</span> <span class="attr">class</span>=<span class="string">"solr.SynonymFilterFactory"</span> <span class="attr">synonyms</span>=<span class="string">"synonyms.txt"</span> <span class="attr">ignoreCase</span>=<span class="string">"true"</span> <span class="attr">expand</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">filter</span> <span class="attr">class</span>=<span class="string">"solr.StopFilterFactory"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">ignoreCase</span>=<span class="string">"true"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">words</span>=<span class="string">"lang/stopwords_en.txt"</span></span></span><br><span class="line"><span class="tag">        /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">filter</span> <span class="attr">class</span>=<span class="string">"solr.WordDelimiterFilterFactory"</span> <span class="attr">generateWordParts</span>=<span class="string">"1"</span> <span class="attr">generateNumberParts</span>=<span class="string">"1"</span> <span class="attr">catenateWords</span>=<span class="string">"0"</span> <span class="attr">catenateNumbers</span>=<span class="string">"0"</span> <span class="attr">catenateAll</span>=<span class="string">"0"</span> <span class="attr">splitOnCaseChange</span>=<span class="string">"1"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">filter</span> <span class="attr">class</span>=<span class="string">"solr.LowerCaseFilterFactory"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">filter</span> <span class="attr">class</span>=<span class="string">"solr.KeywordMarkerFilterFactory"</span> <span class="attr">protected</span>=<span class="string">"protwords.txt"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">filter</span> <span class="attr">class</span>=<span class="string">"solr.PorterStemFilterFactory"</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">analyzer</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">fieldType</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">&lt;!-- Less flexible matching, but less false matches.  Probably not ideal for product names,</span></span><br><span class="line"><span class="comment">         but may be good for SKUs.  Can insert dashes in the wrong place and still match. --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dynamicField</span> <span class="attr">name</span>=<span class="string">"*_txt_en_split_tight"</span> <span class="attr">type</span>=<span class="string">"text_en_splitting_tight"</span>  <span class="attr">indexed</span>=<span class="string">"true"</span>  <span class="attr">stored</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">fieldType</span> <span class="attr">name</span>=<span class="string">"text_en_splitting_tight"</span> <span class="attr">class</span>=<span class="string">"solr.TextField"</span> <span class="attr">positionIncrementGap</span>=<span class="string">"100"</span> <span class="attr">autoGeneratePhraseQueries</span>=<span class="string">"true"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">analyzer</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">tokenizer</span> <span class="attr">class</span>=<span class="string">"solr.WhitespaceTokenizerFactory"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">filter</span> <span class="attr">class</span>=<span class="string">"solr.SynonymFilterFactory"</span> <span class="attr">synonyms</span>=<span class="string">"synonyms.txt"</span> <span class="attr">ignoreCase</span>=<span class="string">"true"</span> <span class="attr">expand</span>=<span class="string">"false"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">filter</span> <span class="attr">class</span>=<span class="string">"solr.StopFilterFactory"</span> <span class="attr">ignoreCase</span>=<span class="string">"true"</span> <span class="attr">words</span>=<span class="string">"lang/stopwords_en.txt"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">filter</span> <span class="attr">class</span>=<span class="string">"solr.WordDelimiterFilterFactory"</span> <span class="attr">generateWordParts</span>=<span class="string">"0"</span> <span class="attr">generateNumberParts</span>=<span class="string">"0"</span> <span class="attr">catenateWords</span>=<span class="string">"1"</span> <span class="attr">catenateNumbers</span>=<span class="string">"1"</span> <span class="attr">catenateAll</span>=<span class="string">"0"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">filter</span> <span class="attr">class</span>=<span class="string">"solr.LowerCaseFilterFactory"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">filter</span> <span class="attr">class</span>=<span class="string">"solr.KeywordMarkerFilterFactory"</span> <span class="attr">protected</span>=<span class="string">"protwords.txt"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">filter</span> <span class="attr">class</span>=<span class="string">"solr.EnglishMinimalStemFilterFactory"</span>/&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- this filter can remove any duplicate tokens that appear at the same position - sometimes</span></span><br><span class="line"><span class="comment">             possible with WordDelimiterFilter in conjuncton with stemming. --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">filter</span> <span class="attr">class</span>=<span class="string">"solr.RemoveDuplicatesTokenFilterFactory"</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">analyzer</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">fieldType</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">&lt;!-- Just like text_general except it reverses the characters of</span></span><br><span class="line"><span class="comment">           each token, to enable more efficient leading wildcard queries.</span></span><br><span class="line"><span class="comment">    --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dynamicField</span> <span class="attr">name</span>=<span class="string">"*_txt_rev"</span> <span class="attr">type</span>=<span class="string">"text_general_rev"</span>  <span class="attr">indexed</span>=<span class="string">"true"</span>  <span class="attr">stored</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">fieldType</span> <span class="attr">name</span>=<span class="string">"text_general_rev"</span> <span class="attr">class</span>=<span class="string">"solr.TextField"</span> <span class="attr">positionIncrementGap</span>=<span class="string">"100"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">analyzer</span> <span class="attr">type</span>=<span class="string">"index"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">tokenizer</span> <span class="attr">class</span>=<span class="string">"solr.StandardTokenizerFactory"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">filter</span> <span class="attr">class</span>=<span class="string">"solr.StopFilterFactory"</span> <span class="attr">ignoreCase</span>=<span class="string">"true"</span> <span class="attr">words</span>=<span class="string">"stopwords.txt"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">filter</span> <span class="attr">class</span>=<span class="string">"solr.LowerCaseFilterFactory"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">filter</span> <span class="attr">class</span>=<span class="string">"solr.ReversedWildcardFilterFactory"</span> <span class="attr">withOriginal</span>=<span class="string">"true"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">maxPosAsterisk</span>=<span class="string">"3"</span> <span class="attr">maxPosQuestion</span>=<span class="string">"2"</span> <span class="attr">maxFractionAsterisk</span>=<span class="string">"0.33"</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">analyzer</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">analyzer</span> <span class="attr">type</span>=<span class="string">"query"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">tokenizer</span> <span class="attr">class</span>=<span class="string">"solr.StandardTokenizerFactory"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">filter</span> <span class="attr">class</span>=<span class="string">"solr.SynonymFilterFactory"</span> <span class="attr">synonyms</span>=<span class="string">"synonyms.txt"</span> <span class="attr">ignoreCase</span>=<span class="string">"true"</span> <span class="attr">expand</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">filter</span> <span class="attr">class</span>=<span class="string">"solr.StopFilterFactory"</span> <span class="attr">ignoreCase</span>=<span class="string">"true"</span> <span class="attr">words</span>=<span class="string">"stopwords.txt"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">filter</span> <span class="attr">class</span>=<span class="string">"solr.LowerCaseFilterFactory"</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">analyzer</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">fieldType</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="tag">&lt;<span class="name">dynamicField</span> <span class="attr">name</span>=<span class="string">"*_phon_en"</span> <span class="attr">type</span>=<span class="string">"phonetic_en"</span>  <span class="attr">indexed</span>=<span class="string">"true"</span>  <span class="attr">stored</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">fieldType</span> <span class="attr">name</span>=<span class="string">"phonetic_en"</span> <span class="attr">stored</span>=<span class="string">"false"</span> <span class="attr">indexed</span>=<span class="string">"true"</span> <span class="attr">class</span>=<span class="string">"solr.TextField"</span> &gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">analyzer</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">tokenizer</span> <span class="attr">class</span>=<span class="string">"solr.StandardTokenizerFactory"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">filter</span> <span class="attr">class</span>=<span class="string">"solr.DoubleMetaphoneFilterFactory"</span> <span class="attr">inject</span>=<span class="string">"false"</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">analyzer</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">fieldType</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">&lt;!-- lowercases the entire field value, keeping it as a single token.  --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dynamicField</span> <span class="attr">name</span>=<span class="string">"*_s_lower"</span> <span class="attr">type</span>=<span class="string">"lowercase"</span>  <span class="attr">indexed</span>=<span class="string">"true"</span>  <span class="attr">stored</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">fieldType</span> <span class="attr">name</span>=<span class="string">"lowercase"</span> <span class="attr">class</span>=<span class="string">"solr.TextField"</span> <span class="attr">positionIncrementGap</span>=<span class="string">"100"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">analyzer</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">tokenizer</span> <span class="attr">class</span>=<span class="string">"solr.KeywordTokenizerFactory"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">filter</span> <span class="attr">class</span>=<span class="string">"solr.LowerCaseFilterFactory"</span> /&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">analyzer</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">fieldType</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">&lt;!-- </span></span><br><span class="line"><span class="comment">      Example of using PathHierarchyTokenizerFactory at index time, so</span></span><br><span class="line"><span class="comment">      queries for paths match documents at that path, or in descendent paths</span></span><br><span class="line"><span class="comment">    --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dynamicField</span> <span class="attr">name</span>=<span class="string">"*_descendent_path"</span> <span class="attr">type</span>=<span class="string">"descendent_path"</span>  <span class="attr">indexed</span>=<span class="string">"true"</span>  <span class="attr">stored</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">fieldType</span> <span class="attr">name</span>=<span class="string">"descendent_path"</span> <span class="attr">class</span>=<span class="string">"solr.TextField"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">analyzer</span> <span class="attr">type</span>=<span class="string">"index"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">tokenizer</span> <span class="attr">class</span>=<span class="string">"solr.PathHierarchyTokenizerFactory"</span> <span class="attr">delimiter</span>=<span class="string">"/"</span> /&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">analyzer</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">analyzer</span> <span class="attr">type</span>=<span class="string">"query"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">tokenizer</span> <span class="attr">class</span>=<span class="string">"solr.KeywordTokenizerFactory"</span> /&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">analyzer</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">fieldType</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">      Example of using PathHierarchyTokenizerFactory at query time, so</span></span><br><span class="line"><span class="comment">      queries for paths match documents at that path, or in ancestor paths</span></span><br><span class="line"><span class="comment">    --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dynamicField</span> <span class="attr">name</span>=<span class="string">"*_ancestor_path"</span> <span class="attr">type</span>=<span class="string">"ancestor_path"</span>  <span class="attr">indexed</span>=<span class="string">"true"</span>  <span class="attr">stored</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">fieldType</span> <span class="attr">name</span>=<span class="string">"ancestor_path"</span> <span class="attr">class</span>=<span class="string">"solr.TextField"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">analyzer</span> <span class="attr">type</span>=<span class="string">"index"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">tokenizer</span> <span class="attr">class</span>=<span class="string">"solr.KeywordTokenizerFactory"</span> /&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">analyzer</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">analyzer</span> <span class="attr">type</span>=<span class="string">"query"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">tokenizer</span> <span class="attr">class</span>=<span class="string">"solr.PathHierarchyTokenizerFactory"</span> <span class="attr">delimiter</span>=<span class="string">"/"</span> /&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">analyzer</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">fieldType</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">&lt;!-- since fields of this type are by default not stored or indexed,</span></span><br><span class="line"><span class="comment">         any data added to them will be ignored outright.  --&gt;</span> </span><br><span class="line">    <span class="tag">&lt;<span class="name">fieldType</span> <span class="attr">name</span>=<span class="string">"ignored"</span> <span class="attr">stored</span>=<span class="string">"false"</span> <span class="attr">indexed</span>=<span class="string">"false"</span> <span class="attr">docValues</span>=<span class="string">"false"</span> <span class="attr">multiValued</span>=<span class="string">"true"</span> <span class="attr">class</span>=<span class="string">"solr.StrField"</span> /&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">&lt;!-- This point type indexes the coordinates as separate fields (subFields)</span></span><br><span class="line"><span class="comment">      If subFieldType is defined, it references a type, and a dynamic field</span></span><br><span class="line"><span class="comment">      definition is created matching *___&lt;typename&gt;.  Alternately, if </span></span><br><span class="line"><span class="comment">      subFieldSuffix is defined, that is used to create the subFields.</span></span><br><span class="line"><span class="comment">      Example: if subFieldType="double", then the coordinates would be</span></span><br><span class="line"><span class="comment">        indexed in fields myloc_0___double,myloc_1___double.</span></span><br><span class="line"><span class="comment">      Example: if subFieldSuffix="_d" then the coordinates would be indexed</span></span><br><span class="line"><span class="comment">        in fields myloc_0_d,myloc_1_d</span></span><br><span class="line"><span class="comment">      The subFields are an implementation detail of the fieldType, and end</span></span><br><span class="line"><span class="comment">      users normally should not need to know about them.</span></span><br><span class="line"><span class="comment">     --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dynamicField</span> <span class="attr">name</span>=<span class="string">"*_point"</span> <span class="attr">type</span>=<span class="string">"point"</span>  <span class="attr">indexed</span>=<span class="string">"true"</span>  <span class="attr">stored</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">fieldType</span> <span class="attr">name</span>=<span class="string">"point"</span> <span class="attr">class</span>=<span class="string">"solr.PointType"</span> <span class="attr">dimension</span>=<span class="string">"2"</span> <span class="attr">subFieldSuffix</span>=<span class="string">"_d"</span>/&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">&lt;!-- A specialized field for geospatial search. If indexed, this fieldType must not be multivalued. --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">fieldType</span> <span class="attr">name</span>=<span class="string">"location"</span> <span class="attr">class</span>=<span class="string">"solr.LatLonType"</span> <span class="attr">subFieldSuffix</span>=<span class="string">"_coordinate"</span>/&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">&lt;!-- An alternative geospatial field type new to Solr 4.  It supports multiValued and polygon shapes.</span></span><br><span class="line"><span class="comment">      For more information about this and other Spatial fields new to Solr 4, see:</span></span><br><span class="line"><span class="comment">      http://wiki.apache.org/solr/SolrAdaptersForLuceneSpatial4</span></span><br><span class="line"><span class="comment">    --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">fieldType</span> <span class="attr">name</span>=<span class="string">"location_rpt"</span> <span class="attr">class</span>=<span class="string">"solr.SpatialRecursivePrefixTreeFieldType"</span></span></span><br><span class="line"><span class="tag">               <span class="attr">geo</span>=<span class="string">"true"</span> <span class="attr">distErrPct</span>=<span class="string">"0.025"</span> <span class="attr">maxDistErr</span>=<span class="string">"0.001"</span> <span class="attr">distanceUnits</span>=<span class="string">"kilometers"</span> /&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">&lt;!-- Money/currency field type. See http://wiki.apache.org/solr/MoneyFieldType</span></span><br><span class="line"><span class="comment">        Parameters:</span></span><br><span class="line"><span class="comment">          defaultCurrency: Specifies the default currency if none specified. Defaults to "USD"</span></span><br><span class="line"><span class="comment">          precisionStep:   Specifies the precisionStep for the TrieLong field used for the amount</span></span><br><span class="line"><span class="comment">          providerClass:   Lets you plug in other exchange provider backend:</span></span><br><span class="line"><span class="comment">                           solr.FileExchangeRateProvider is the default and takes one parameter:</span></span><br><span class="line"><span class="comment">                             currencyConfig: name of an xml file holding exchange rates</span></span><br><span class="line"><span class="comment">                           solr.OpenExchangeRatesOrgProvider uses rates from openexchangerates.org:</span></span><br><span class="line"><span class="comment">                             ratesFileLocation: URL or path to rates JSON file (default latest.json on the web)</span></span><br><span class="line"><span class="comment">                             refreshInterval: Number of minutes between each rates fetch (default: 1440, min: 60)</span></span><br><span class="line"><span class="comment">    --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">fieldType</span> <span class="attr">name</span>=<span class="string">"currency"</span> <span class="attr">class</span>=<span class="string">"solr.CurrencyField"</span> <span class="attr">precisionStep</span>=<span class="string">"8"</span> <span class="attr">defaultCurrency</span>=<span class="string">"USD"</span> <span class="attr">currencyConfig</span>=<span class="string">"currency.xml"</span> /&gt;</span></span><br><span class="line">           </span><br><span class="line">    <span class="comment">&lt;!-- some examples for different languages (generally ordered by ISO code) --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- Armenian --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dynamicField</span> <span class="attr">name</span>=<span class="string">"*_txt_hy"</span> <span class="attr">type</span>=<span class="string">"text_hy"</span>  <span class="attr">indexed</span>=<span class="string">"true"</span>  <span class="attr">stored</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">fieldType</span> <span class="attr">name</span>=<span class="string">"text_hy"</span> <span class="attr">class</span>=<span class="string">"solr.TextField"</span> <span class="attr">positionIncrementGap</span>=<span class="string">"100"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">analyzer</span>&gt;</span> </span><br><span class="line">        <span class="tag">&lt;<span class="name">tokenizer</span> <span class="attr">class</span>=<span class="string">"solr.StandardTokenizerFactory"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">filter</span> <span class="attr">class</span>=<span class="string">"solr.LowerCaseFilterFactory"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">filter</span> <span class="attr">class</span>=<span class="string">"solr.StopFilterFactory"</span> <span class="attr">ignoreCase</span>=<span class="string">"true"</span> <span class="attr">words</span>=<span class="string">"lang/stopwords_hy.txt"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">filter</span> <span class="attr">class</span>=<span class="string">"solr.SnowballPorterFilterFactory"</span> <span class="attr">language</span>=<span class="string">"Armenian"</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">analyzer</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">fieldType</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">schema</span>&gt;</span></span><br></pre></td></tr></table></figure>


      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2020/03/18/Solr%20schema.xml%E9%85%8D%E7%BD%AE%E8%AF%A6%E8%A7%A3/" data-id="ck7xcdrq40003q0vl44k97evf" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2020/03/18/jar%E6%96%87%E4%BB%B6%E8%A7%84%E8%8C%83/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          jar文件规范
        
      </div>
    </a>
  
  
    <a href="/2020/03/18/%E5%BE%AE%E6%9C%8D%E5%8A%A1spring%E5%A4%A7%E7%BA%B2%E4%BB%A5%E5%8F%8A%E7%BB%84%E4%BB%B6%E8%AF%B4%E6%98%8E/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">微服务spring大纲以及组件说明</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/03/">March 2020</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2020/03/18/%E7%B2%BE%E9%80%9ASpring%20Boot%E4%B8%8ECloud/">精通Spring Boot与Cloud</a>
          </li>
        
          <li>
            <a href="/2020/03/18/hello-world/">Hello World</a>
          </li>
        
          <li>
            <a href="/2020/03/18/Windows%E4%B8%8BCmder%E7%9A%84%E9%85%8D%E7%BD%AE%E4%B8%8E%E4%BD%BF%E7%94%A8/">Windows下Cmder的配置与使用</a>
          </li>
        
          <li>
            <a href="/2020/03/18/jar%E6%96%87%E4%BB%B6%E8%A7%84%E8%8C%83/">jar文件规范</a>
          </li>
        
          <li>
            <a href="/2020/03/18/Solr%20schema.xml%E9%85%8D%E7%BD%AE%E8%AF%A6%E8%A7%A3/">Solr schema.xml配置详解</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2020 xiaohua<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">

  
<script src="/fancybox/jquery.fancybox.pack.js"></script>




<script src="/js/script.js"></script>




  </div>
</body>
</html>